<p>{QUESTIONTEXT}</p>
<!-- style="pointer-events:none;" -->
<div class="page-break"></div>
<div id="jsme_container" onmouseup="getJmeFile();" onmousemove="color();"></div>
<form method="POST" action="" id="answerForm">
	<input type="hidden" id="answerString" name="sampleSolution" value="{MOLECULE}" />
	<input type="hidden" id="canonicalAnswerString" name="canonicalMolecule" value="" />
</form>

<!--<textarea rows="10" cols="50" id="answer"></textarea>-->
<script>
    //this function will be called after the JavaScriptApplet code has been loaded.
    function jsmeOnLoad() {
        jsmeApplet = new JSApplet.JSME("jsme_container", "800px", "700px");
        jsmeApplet.readMolecule("{MOLECULE}");
        jsmeApplet.options("{OPTIONS}");
        jsmeApplet.setHelpURL("");
        color();
		var smiles = jsmeApplet.smiles();
		document.getElementById("canonicalAnswerString").value = smiles;
   }
   
   function findButtonbyTextContent() {
		var buttons = document.getElementsByTagName('button');		
		for (var i=0; i<buttons.length; i++) {
			if (buttons[i].firstChild.nodeValue == 'Help')
				buttons[i].style = "display:none";
		}  	
		color();	
	}
	
	function color(){
	   var text = document.getElementsByTagName("text");
		for (i=0; i<text.length; i++){
			if ( text[i].getAttribute("fill") == "rgb(255,200,0)" ) {
				text[i].setAttribute("fill", "rgb(205,24,25)");
			}  		
		}
	}   
   
	function getJmeFile() {	
		// hide help-button in about-window			
		findButtonbyTextContent();		
		var jme = jsmeApplet.jmeFile();		
		var smiles = jsmeApplet.smiles();
				
		document.getElementById("answerString").value = jme;
		document.getElementById("canonicalAnswerString").value = smiles;
		document.getElementById("answerForm").submit();				
	}
</script>


  
